(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),i=(n(14),n(8)),s=n(3),u=n(9),l=n.n(u),j=(n(35),n(1));function d(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(j.jsx)("header",{className:"searchbar",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()&&(t(o),r(""))},className:"form",children:[Object(j.jsx)("button",{type:"submit",className:"button",children:Object(j.jsx)("span",{className:"button-label",children:"Search"})}),Object(j.jsx)("input",{className:"input",type:"text",name:"value",value:o,onChange:function(e){r(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var b=n(2),m=n.n(b);n(37);function f(e){var t=e.id,n=e.webformatURL,a=e.tags,c=e.largeImageURL,o=e.showModal,r=e.data;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return r(c,a)},children:Object(j.jsx)("img",{className:"ImageGalleryItem-image",src:n,alt:a,onClick:o})},t)}n(38);function h(e){var t=e.images,n=e.showModal,a=e.modalData;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,o=e.tags,r=e.largeImageURL;return Object(j.jsx)(f,{webformatURL:c,tags:o,largeImageURL:r,data:a,showModal:n},t)}))})}f.propTypes={images:m.a.array,showModal:m.a.func,modalData:m.a.func};n(39);var O=document.querySelector("#modal-root");function p(e){var t=e.onClose,n=e.src,c=e.alt;Object(a.useEffect)((function(){return window.addEventListener("click",r),window.addEventListener("keydown",i),window.removeEventListener("keydown",i)}),[]);var r=function(e){"DIV"===e.target.nodeName&&t()},i=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClose:t,children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:n,alt:c})})}),O)}n(40);function g(e){var t=e.onClick;return Object(j.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})}n(41);function v(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),r=Object(s.a)(o,2),u=r[0],b=r[1],m=Object(a.useState)([]),f=Object(s.a)(m,2),O=f[0],v=f[1],w=Object(a.useState)("idli"),x=Object(s.a)(w,2),y=x[0],k=x[1],N=Object(a.useState)(!1),S=Object(s.a)(N,2),L=S[0],C=S[1],I=Object(a.useState)(""),E=Object(s.a)(I,2),M=E[0],R=E[1],U=Object(a.useState)(""),D=Object(s.a)(U,2),B=D[0],F=D[1],G="https://pixabay.com/api/",_="23510997-d251ce775a3590a28eaf32d04";Object(a.useEffect)((function(){n&&(k("pending"),fetch("".concat(G,"?q=").concat(n,"&page=").concat(u,"&key=").concat(_,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){v(e.hits),b((function(e){return e+1})),k("resolved")})))}),[n]),Object(a.useEffect)((function(){window.addEventListener("click",(function(e){"IMG"===e.target.nodeName&&q()}))}));var q=function(){C((function(e){return!e}))};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{onSubmit:function(e){c(e)}}),"idli"===y&&Object(j.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0430\u043d\u0438\u0435"}),"pending"===y&&Object(j.jsx)(l.a,{className:"spin",type:"Bars",color:"#00BFFF",height:200,width:200}),"resolved"===y&&Object(j.jsx)(h,{images:O,showModal:q,modalData:function(e,t){R(e),F(t)}}),0!==O.length&&Object(j.jsx)(g,{onClick:function(){b((function(e){return e+1})),fetch("".concat(G,"?q=").concat(n,"&page=").concat(u,"&key=").concat(_,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){v((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),k("resolved")}))}}),L&&Object(j.jsx)(p,{onClose:q,src:M,alt:B})]})}r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.043ebbc0.chunk.js.map