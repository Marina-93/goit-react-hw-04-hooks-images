{"version":3,"sources":["component/Searchbar/Searchbar.js","component/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","component/Modal/Modal.js","component/Button/Button.js","App.js","index.js"],"names":["Searchbar","state","value","handleChange","e","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","this","type","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","webformatURL","tags","largeImageURL","showModal","data","onClick","src","alt","ImageGallery","images","modalData","map","propTypes","PropTypes","array","func","modalRoot","document","querySelector","Modal","onCloseByClick","target","nodeName","onClose","onCloseByKedown","code","window","addEventListener","removeEventListener","createPortal","Button","App","BaseURL","keyURL","page","loading","status","modalSrc","modalAlt","handleFormSubmit","loadMore","prev","fetch","then","res","json","prevState","hits","toggleModal","prevProps","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3d1e9ce9.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport './Searchbar.css';\r\n\r\nexport default class Searchbar extends Component{\r\n    state = {\r\n        value: '',\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({ value: e.currentTarget.value.toLowerCase() });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n        const { value } = this.state\r\n        \r\n        if (value.trim() === '') {\r\n            return;\r\n        }\r\n        \r\n        this.props.onSubmit(value)\r\n        this.setState({ value: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"searchbar\">\r\n                <form onSubmit={this.handleSubmit} className=\"form\">\r\n                    <button type=\"submit\" className=\"button\">\r\n                        <span className=\"button-label\">Search</span>\r\n                    </button>\r\n                    \r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        name=\"value\"\r\n                        value={this.state.value}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\nimport './ImageGalleryItem.css';\r\n\r\nexport default function ImageGalleryItem({ id, webformatURL, tags, largeImageURL, showModal, data}) {\r\n    return (\r\n        <li className=\"ImageGalleryItem\" key={id}\r\n            onClick={() => data(largeImageURL, tags)}>\r\n            <img\r\n                className=\"ImageGalleryItem-image\"\r\n                src={webformatURL}\r\n                alt={tags}\r\n                onClick={showModal}\r\n            />\r\n        </li>)\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    id: PropTypes.number,\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    showModal: PropTypes.func,\r\n    data: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport './ImageGallery.css'\r\n\r\nexport default function ImageGallery({images,showModal, modalData}) {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n            {images.map(({ id, webformatURL, tags, largeImageURL }) =>\r\n                <ImageGalleryItem\r\n                    key={id}\r\n                    webformatURL={webformatURL}\r\n                    tags={tags}\r\n                    largeImageURL={largeImageURL}\r\n                    data={modalData}\r\n                    showModal={showModal}\r\n                />\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    images: PropTypes.array,\r\n    showModal: PropTypes.func,\r\n    modalData: PropTypes.func,\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport './Modal.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default class Modal extends Component{\r\n     \r\n    componentDidMount() {\r\n        window.addEventListener('click', this.onCloseByClick)\r\n        window.addEventListener('keydown', this.onCloseByKedown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.onCloseByKedown)\r\n    }\r\n\r\n    onCloseByClick = (e) => {\r\n        if (e.target.nodeName === \"DIV\") {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n\r\n    onCloseByKedown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { onClose, src, alt } = this.props\r\n\r\n        return createPortal(\r\n            <div className=\"Overlay\" onClose={onClose}>\r\n                <div className=\"Modal\">\r\n                    <img\r\n                        src={src}\r\n                        alt={alt}\r\n                    />\r\n                </div>\r\n            </div>,\r\n            modalRoot\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\nimport './Button.css'\r\n\r\nexport default function Button({ onClick }) {\r\n    return (\r\n        <button\r\n            className=\"Button\"\r\n            type='button'\r\n            onClick={onClick}\r\n        >\r\n            Load more\r\n        </button>\r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n}","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from './component/Searchbar/Searchbar';\nimport ImageGallery from \"./component/ImageGallery/ImageGallery\";\nimport Modal from \"./component/Modal/Modal\";\nimport Button from \"./component/Button/Button\";\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    BaseURL:'https://pixabay.com/api/',\n    keyURL: '23510997-d251ce775a3590a28eaf32d04',\n    value: '',\n    page: 1,\n    images: [],\n    loading: false,\n    status: 'idli',\n    showModal: false,\n    modalSrc: '',\n    modalAlt: ''\n  }\n  \n  handleFormSubmit = value => (\n    this.setState({value})\n  )\n\n  componentDidUpdate(prevProps, prevState) {\n    const{BaseURL, value, page, keyURL} = this.state\n\n    if (prevState.value !== value) {\n      this.setState({ status: 'pending' })\n      fetch(`${BaseURL}?q=${value}&page=${page}&key=${keyURL}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(res => res.json())\n        .then((res) => this.setState({ images: res.hits, page: page + 1, status: 'resolved' }))\n    }\n  }\n\n  loadMore = () => {\n    const{BaseURL, value, page, keyURL} = this.state\n\n    this.setState((prev) => ({ page: prev.page + 1 }))\n    fetch(`${BaseURL}?q=${value}&page=${page}&key=${keyURL}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(res => res.json())\n      .then((res) => this.setState((prevState) => ({ images: [...prevState.images, ...res.hits],  status: 'resolved' })))\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => (\n      { showModal: !showModal }\n    ))\n  }\n\n  modalData = (src, alt) => {\n    this.setState({ modalSrc: src,  modalAlt: alt } )\n  }\n\n  render() {\n    const{status,images, showModal, modalSrc, modalAlt}=this.state\n\n    return (\n      <div className='App'>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {status === 'idli' && <div>Введите назание</div>}\n        {status === 'pending' && <Loader className=\"spin\" type=\"Bars\" color=\"#00BFFF\" height={200} width={200} />}\n        {status === 'resolved' && <ImageGallery\n          images={images}\n          showModal={this.toggleModal}\n          modalData={this.modalData}\n        />}\n        {images.length !== 0 && <Button onClick={this.loadMore}/>}\n        {showModal && <Modal\n          onClose={this.toggleModal}\n          src={modalSrc}\n          alt={modalAlt}\n        />}\n      </div>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}